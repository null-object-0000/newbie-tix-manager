import{d as D,r as b,g as E,h as R,c as U,a as t,w as a,b as n,e as s,u as i,f as $,t as z,o as A,_ as F}from"./index-DMMhljnn.js";import{P as L}from"./constants-Dn4t5xCD.js";import{f as M}from"./api-vlF67d9w.js";const B={class:"performances"},G=D({__name:"Performances",setup(j){const p=$(),f=b([]),m=b(!1),l=E({title:"",venue:"",status:""}),C=[{title:"演出ID",dataIndex:"id",width:100},{title:"演出标题",dataIndex:"title"},{title:"演出场馆",dataIndex:"venue"},{title:"状态",dataIndex:"status",slotName:"status"},{title:"操作",slotName:"actions"}],c=L,_=async()=>{m.value=!0;try{f.value=await M(l)}catch(v){console.error("加载演出数据失败:",v)}finally{m.value=!1}},V=()=>{_()},O=()=>{l.title="",l.venue="",l.status="",_()};return R(()=>{_()}),(v,e)=>{const k=n("a-typography-title"),y=n("a-input"),r=n("a-form-item"),I=n("a-select"),u=n("a-button"),g=n("a-space"),N=n("a-form"),x=n("a-card"),S=n("icon-plus"),w=n("a-tag"),P=n("a-table");return A(),U("div",B,[t(k,{heading:3,style:{"margin-top":"0px","margin-bottom":"24px"}},{default:a(()=>e[4]||(e[4]=[s("演出管理")])),_:1}),t(x,{style:{"margin-bottom":"16px"}},{default:a(()=>[t(N,{model:l,layout:"inline"},{default:a(()=>[t(r,{field:"title",label:"演出标题"},{default:a(()=>[t(y,{modelValue:l.title,"onUpdate:modelValue":e[0]||(e[0]=o=>l.title=o),placeholder:"请输入演出标题","allow-clear":""},null,8,["modelValue"])]),_:1}),t(r,{field:"venue",label:"演出场馆"},{default:a(()=>[t(y,{modelValue:l.venue,"onUpdate:modelValue":e[1]||(e[1]=o=>l.venue=o),placeholder:"请输入场馆名称","allow-clear":""},null,8,["modelValue"])]),_:1}),t(r,{field:"status",label:"状态"},{default:a(()=>[t(I,{modelValue:l.status,"onUpdate:modelValue":e[2]||(e[2]=o=>l.status=o),options:i(c),placeholder:"请选择状态","allow-clear":""},null,8,["modelValue","options"])]),_:1}),t(r,null,{default:a(()=>[t(g,null,{default:a(()=>[t(u,{type:"primary",onClick:V},{default:a(()=>e[5]||(e[5]=[s("搜索")])),_:1}),t(u,{onClick:O},{default:a(()=>e[6]||(e[6]=[s("重置")])),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1}),t(x,null,{title:a(()=>[t(g,null,{default:a(()=>[t(u,{type:"primary",onClick:e[3]||(e[3]=o=>i(p).push("/performances/create"))},{icon:a(()=>[t(S)]),default:a(()=>[e[7]||(e[7]=s(" 新建演出 "))]),_:1})]),_:1})]),default:a(()=>[t(P,{columns:C,data:f.value,pagination:{pageSize:10},loading:m.value},{status:a(({record:o})=>[t(w,{color:{ON_SALE:"green",COMING_SOON:"blue",SOLD_OUT:"red"}[o.status]},{default:a(()=>{var d;return[s(z((d=i(c).find(T=>T.value===o.status))==null?void 0:d.label),1)]}),_:2},1032,["color"])]),actions:a(({record:o})=>[t(u,{type:"text",size:"small",onClick:d=>i(p).push(`/performances/${o.id}/edit`)},{default:a(()=>e[8]||(e[8]=[s("编辑")])),_:2},1032,["onClick"]),t(u,{type:"text",size:"small",onClick:d=>i(p).push(`/performances/${o.id}/sessions`)},{default:a(()=>e[9]||(e[9]=[s("场次管理")])),_:2},1032,["onClick"])]),_:1},8,["data","loading"])]),_:1})])}}}),K=F(G,[["__scopeId","data-v-a3e79778"]]);export{K as default};
