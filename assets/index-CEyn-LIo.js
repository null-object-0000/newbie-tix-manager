import{d as V,r as _,o as B,c as R,f as E,a as t,b as s,w as n,M as m,g as c,t as h,u as O,e as A,_ as I}from"./index-CX8KaRsY.js";const L={class:"shows-container"},P={class:"header"},j=V({__name:"index",setup(q){const u=O(),g=_([]),d=_(!1),i=_({total:0,current:1,pageSize:10}),p=async(e=1)=>{d.value=!0;try{g.value=[{id:"1",name:"2024年春节音乐会",startTime:"2024-02-10 19:30:00",venue:"国家大剧院音乐厅",priceRange:"180-580元",status:"upcoming"}],i.value.total=100}catch{m.error("获取演出列表失败")}finally{d.value=!1}},x=e=>new Date(e).toLocaleString("zh-CN"),v=e=>({upcoming:"blue",ongoing:"green",ended:"gray"})[e],w=e=>({upcoming:"即将开始",ongoing:"进行中",ended:"已结束"})[e],y=e=>{i.value.current=e,p(e)},C=()=>{u.push("/shows/create")},k=e=>{u.push(`/shows/${e.id}`)},b=e=>{u.push(`/shows/${e.id}/edit`)},M=async e=>{try{m.success("删除成功"),p(i.value.current)}catch{m.error("删除失败")}};return B(()=>{p()}),(e,a)=>{const S=s("a-page-header"),T=s("icon-plus"),r=s("a-button"),l=s("a-table-column"),z=s("a-tag"),$=s("a-popconfirm"),D=s("a-space"),N=s("a-table");return A(),R("div",L,[E("div",P,[t(S,{title:"演出管理"}),t(r,{type:"primary",onClick:C},{icon:n(()=>[t(T)]),default:n(()=>[a[0]||(a[0]=c(" 新增演出 "))]),_:1})]),t(N,{data:g.value,loading:d.value,pagination:i.value,onPageChange:y},{columns:n(()=>[t(l,{title:"演出名称","data-index":"name"}),t(l,{title:"演出时间","data-index":"startTime"},{cell:n(({record:o})=>[c(h(x(o.startTime)),1)]),_:1}),t(l,{title:"演出地点","data-index":"venue"}),t(l,{title:"票价范围","data-index":"priceRange"}),t(l,{title:"状态","data-index":"status"},{cell:n(({record:o})=>[t(z,{color:v(o.status)},{default:n(()=>[c(h(w(o.status)),1)]),_:2},1032,["color"])]),_:1}),t(l,{title:"操作",fixed:"right",width:180},{cell:n(({record:o})=>[t(D,null,{default:n(()=>[t(r,{type:"text",size:"small",onClick:f=>b(o)},{default:n(()=>a[1]||(a[1]=[c("编辑")])),_:2},1032,["onClick"]),t(r,{type:"text",size:"small",onClick:f=>k(o)},{default:n(()=>a[2]||(a[2]=[c("场次管理")])),_:2},1032,["onClick"]),t($,{content:"确定要删除该演出吗？",onOk:f=>M(o)},{default:n(()=>[t(r,{type:"text",size:"small",status:"danger"},{default:n(()=>a[3]||(a[3]=[c("删除")])),_:1})]),_:2},1032,["onOk"])]),_:2},1024)]),_:1})]),_:1},8,["data","loading","pagination"])])}}}),G=I(j,[["__scopeId","data-v-77c38de0"]]);export{G as default};
