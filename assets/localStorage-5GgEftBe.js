const T="newbie-tix-performances",u="newbie-tix-sessions",m="newbie-tix-orders",f=()=>Math.floor(Math.random()*1e6),i=()=>{const e=localStorage.getItem(T);return e?JSON.parse(e):[]},k=e=>{localStorage.setItem(T,JSON.stringify(e))},N=e=>i().filter(t=>!(e.title&&!t.title.includes(e.title)||e.venue&&!t.venue.includes(e.venue)||e.status&&t.status!==e.status)),P=e=>i().find(t=>t.id===e),J=e=>{const s=i(),t={...e,id:f(),status:"coming_soon"};return s.push(t),k(s),t},E=(e,s)=>{const t=i(),n=t.findIndex(o=>o.id===e);if(n===-1)return null;const r={...t[n],...s};return t[n]=r,k(t),r},a=e=>{const s=localStorage.getItem(u);return(s?JSON.parse(s):{})[e]||[]},w=(e,s)=>a(e).find(n=>n.id===s),d=(e,s)=>{const t=localStorage.getItem(u),n=t?JSON.parse(t):{};n[e]=s,localStorage.setItem(u,JSON.stringify(n))},h=(e,s)=>{const t=a(e),n={...s,id:f()};return t.push(n),d(e,t),n},p=(e,s,t)=>{const n=a(e),r=n.findIndex(c=>c.id===s);if(r===-1)return null;const o={...n[r],...t};return n[r]=o,d(e,n),o},v=(e,s)=>{const t=a(e),n=t.findIndex(r=>r.id===s);return n===-1?!1:(t.splice(n,1),d(e,t),!0)},l="newbie-tix-tickets",S=(e,s)=>{const t=localStorage.getItem(l),n=t?JSON.parse(t):{},r=`${e}-${s}`;return n[r]||[]},g=(e,s,t)=>{const n=localStorage.getItem(l),r=n?JSON.parse(n):{},o=`${e}-${s}`;r[o]=t,localStorage.setItem(l,JSON.stringify(r))},I=(e,s,t)=>{const n=S(e,s),r={...t,id:f(),performanceId:e,sessionId:s};return n.push(r),g(e,s,n),r},b=(e,s,t,n)=>{const r=S(e,s),o=r.findIndex(x=>x.id===t);if(o===-1)return null;const c={...r[o],...n};return r[o]=c,g(e,s,r),c},y=(e,s,t)=>{const n=S(e,s),r=n.findIndex(o=>o.id===t);return r===-1?!1:(n.splice(r,1),g(e,s,n),!0)},O=()=>{const e=localStorage.getItem(m);return e?JSON.parse(e):[]},K=e=>O().filter(t=>!(e.orderNo&&!t.orderNo.includes(e.orderNo)||e.status&&t.status!==e.status||e.startTime&&t.createTime<e.startTime||e.endTime&&t.createTime>e.endTime));export{S as a,P as b,J as c,v as d,p as e,N as f,a as g,h,w as i,y as j,b as k,I as l,K as m,E as u};
